var Cookie = {
	parse: function (req){
		var cook = {}, c,
			r, rc = typeof req === 'string' ? req : req.headers.cookie;
		rc = rc ? rc.split(';') : [];
		for(r=0;r<rc.length;r++){
			c = rc[r].split('=');
			cook[c.shift().trim()] = unescape(c.join('='));
		}
		return cook;
	},
	stringify: function (cookies){
		if(typeof cookies !== 'object') return '';
		var c, cook = [];
		for(c in cookies) cook.push(c +'='+ cookies[c] +'; path=/; expires='+ new Date(Date.now()+99999999999999).toUTCString());
		return cook;
	}
}

module.exports = Cookie;
